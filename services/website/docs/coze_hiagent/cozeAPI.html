<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.20" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.74" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://vuepress-theme-hope-docs-demo.netlify.app/docs/coze_hiagent/cozeAPI.html"><meta property="og:site_name" content="å—å¼€WIKI"><meta property="og:title" content="cozeAPIä»‹ç»"><meta property="og:description" content="éšç€å­—èŠ‚åœ¨å¤§æ¨¡å‹å†›å¤‡ç«èµ›ä¸­ä¸€éª‘ç»å°˜ï¼Œè¶Šæ¥è¶Šå¤šçš„å°ä¼™ä¼´å¼€å§‹æ³¨æ„åˆ°æ‰£å­ï¼ˆCOZEï¼‰è¿™ä¸ªå¼ºå¤§çš„æ™ºèƒ½ä½“å·¥ä½œæµæ­å»ºå¹³å°ã€‚ç„¶è€Œï¼Œä¸å¾—ä¸è¯´ï¼Œæ‰£å­çš„å®˜æ–¹æ•™ç¨‹å®åœ¨æ˜¯å‡ºäº†åçš„è‰ç‡ï¼Œæ—¢æ²¡æœ‰ç¤ºä¾‹ä»£ç ï¼Œæ’ç‰ˆå¸ƒå±€ä¹Ÿååˆ†æ··ä¹±ï¼Œæ‰£å­åŸºç¡€ç‰ˆã€æ‰£å­ä¸“ä¸šç‰ˆã€è±†åŒ…å¤§æ¨¡å‹ã€ç«å±±å¼•æ“ã€ç«å±±æ–¹èˆŸè®©äººå‚»å‚»åˆ†ä¸æ¸…æ¥šï¼Œæ··ä¹±ç¨‹åº¦ç®€ç›´ä»¤äººå’‹èˆŒã€‚ æœ¬æ–‡å°†æä¾›å®˜æ–¹æ–‡æ¡£æ²¡æœ‰æä¾›çš„è°ƒç”¨ COZE BOT API çš„..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2025-04-01T07:14:53.000Z"><meta property="article:author" content="aokimi"><meta property="article:modified_time" content="2025-04-01T07:14:53.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"cozeAPIä»‹ç»","image":[""],"dateModified":"2025-04-01T07:14:53.000Z","author":[{"@type":"Person","name":"aokimi"}]}</script><title>cozeAPIä»‹ç» | å—å¼€WIKI</title><meta name="description" content="éšç€å­—èŠ‚åœ¨å¤§æ¨¡å‹å†›å¤‡ç«èµ›ä¸­ä¸€éª‘ç»å°˜ï¼Œè¶Šæ¥è¶Šå¤šçš„å°ä¼™ä¼´å¼€å§‹æ³¨æ„åˆ°æ‰£å­ï¼ˆCOZEï¼‰è¿™ä¸ªå¼ºå¤§çš„æ™ºèƒ½ä½“å·¥ä½œæµæ­å»ºå¹³å°ã€‚ç„¶è€Œï¼Œä¸å¾—ä¸è¯´ï¼Œæ‰£å­çš„å®˜æ–¹æ•™ç¨‹å®åœ¨æ˜¯å‡ºäº†åçš„è‰ç‡ï¼Œæ—¢æ²¡æœ‰ç¤ºä¾‹ä»£ç ï¼Œæ’ç‰ˆå¸ƒå±€ä¹Ÿååˆ†æ··ä¹±ï¼Œæ‰£å­åŸºç¡€ç‰ˆã€æ‰£å­ä¸“ä¸šç‰ˆã€è±†åŒ…å¤§æ¨¡å‹ã€ç«å±±å¼•æ“ã€ç«å±±æ–¹èˆŸè®©äººå‚»å‚»åˆ†ä¸æ¸…æ¥šï¼Œæ··ä¹±ç¨‹åº¦ç®€ç›´ä»¤äººå’‹èˆŒã€‚ æœ¬æ–‡å°†æä¾›å®˜æ–¹æ–‡æ¡£æ²¡æœ‰æä¾›çš„è°ƒç”¨ COZE BOT API çš„...">
    <link rel="preload" href="/assets/style-fHUuFwQE.css" as="style"><link rel="stylesheet" href="/assets/style-fHUuFwQE.css">
    <link rel="modulepreload" href="/assets/app-CBln_ck3.js"><link rel="modulepreload" href="/assets/cozeAPI.html-BHvoocIQ.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/assets/index.html-DxoaFqWO.js" as="script"><link rel="prefetch" href="/assets/index.html-qhI3fFBT.js" as="script"><link rel="prefetch" href="/assets/api_docs.html-CULoUwNd.js" as="script"><link rel="prefetch" href="/assets/configuration_guide.html-CqrQ1EwP.js" as="script"><link rel="prefetch" href="/assets/deployment_guide.html-BffvfWR0.js" as="script"><link rel="prefetch" href="/assets/installation_guide.html-ByQNKfXt.js" as="script"><link rel="prefetch" href="/assets/nkuwiki_dev.html-C-Ckz0GX.js" as="script"><link rel="prefetch" href="/assets/qa_service_guide.html-0kFP_qGM.js" as="script"><link rel="prefetch" href="/assets/index.html-Dts6R3SB.js" as="script"><link rel="prefetch" href="/assets/redis_guide.html-D-kBdg3A.js" as="script"><link rel="prefetch" href="/assets/data_source.html-DKDH_np2.js" as="script"><link rel="prefetch" href="/assets/introduction.html-BQ7JxCKq.js" as="script"><link rel="prefetch" href="/assets/life.html-Fg9aYTCY.js" as="script"><link rel="prefetch" href="/assets/links.html-CcERvTPG.js" as="script"><link rel="prefetch" href="/assets/map.html-CLFcnXnH.js" as="script"><link rel="prefetch" href="/assets/nkuwiki_build.html-DGwnX-Sz.js" as="script"><link rel="prefetch" href="/assets/index.html-CdClnnsn.js" as="script"><link rel="prefetch" href="/assets/used_files.html-BeQgY5rH.js" as="script"><link rel="prefetch" href="/assets/word.html-Bencwd9W.js" as="script"><link rel="prefetch" href="/assets/HiagentAPI.html-BeADRYRF.js" as="script"><link rel="prefetch" href="/assets/mysql_api.html-DqWZ0Pu8.js" as="script"><link rel="prefetch" href="/assets/QA.html-Be3whA5J.js" as="script"><link rel="prefetch" href="/assets/404.html-YAxCRrLV.js" as="script"><link rel="prefetch" href="/assets/index.html-DsrkWHje.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-DXWKOczD.js" as="script"><link rel="prefetch" href="/assets/setupDevtools-QXEOFQJV-BDAK4jqp.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><!--[--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><a class="route-link vp-brand" href="/" aria-label="å¸¦æˆ‘å›å®¶"><img class="vp-nav-logo" src="/favicon.ico" alt><!----><span class="vp-site-name hide-in-pad">å—å¼€WIKI</span></a><!--]--></div><div class="vp-navbar-center"><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/" aria-label="ä¸»é¡µ" iconsizing="height"><!--[--><iconify-icon class="vp-icon" icon="fa6-solid:house" height="1em" sizing="height"></iconify-icon><!--]-->ä¸»é¡µ<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/docx/" aria-label="ç›®å½•" iconsizing="height"><!--[--><iconify-icon class="vp-icon" icon="fa6-solid:laptop-code" height="1em" sizing="height"></iconify-icon><!--]-->ç›®å½•<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link route-link-active auto-link" href="/docs/" aria-label="å¼€å‘æ–‡æ¡£" iconsizing="height"><!--[--><iconify-icon class="vp-icon" icon="fa6-solid:book" height="1em" sizing="height"></iconify-icon><!--]-->å¼€å‘æ–‡æ¡£<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/communicate/" aria-label="è”ç³»" iconsizing="height"><!--[--><iconify-icon class="vp-icon" icon="majesticons:file" height="1em" sizing="height"></iconify-icon><!--]-->è”ç³»<!----></a></div></nav><!--]--></div><div class="vp-navbar-end"><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/NKU-WIKI/nkuwiki" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-color-mode-switch" id="color-mode-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" name="auto" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" name="dark" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" name="light" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/" aria-label="ä¸»é¡µ" iconsizing="both"><!--[--><iconify-icon class="vp-icon" icon="fa6-solid:house" width="1em" height="1em" sizing="both"></iconify-icon><!--]-->ä¸»é¡µ<!----></a></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-header clickable"><iconify-icon class="vp-icon" icon="fa6-solid:laptop-code" width="1em" height="1em" sizing="both"></iconify-icon><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/docx/" aria-label="ç›®å½•" iconsizing="both"><!---->ç›®å½•<!----></a><!----></p><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/docx/word.html" aria-label="å¸¸ç”¨æ–‡æ¡£" iconsizing="both"><!--[--><iconify-icon class="vp-icon" icon="majesticons:book-plus" width="1em" height="1em" sizing="both"></iconify-icon><!--]-->å¸¸ç”¨æ–‡æ¡£<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/docx/introduction.html" aria-label="ç®€ä»‹" iconsizing="both"><!--[--><iconify-icon class="vp-icon" icon="majesticons:book-plus" width="1em" height="1em" sizing="both"></iconify-icon><!--]-->ç®€ä»‹<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/docx/data_source.html" aria-label="æ•°æ®æºé‡ç‚¹å®ä½“æ¸…å•" iconsizing="both"><!--[--><iconify-icon class="vp-icon" icon="majesticons:book-plus" width="1em" height="1em" sizing="both"></iconify-icon><!--]-->æ•°æ®æºé‡ç‚¹å®ä½“æ¸…å•<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/docx/life.html" aria-label="å—å¼€æ–°ç”ŸæŒ‡å—" iconsizing="both"><!--[--><iconify-icon class="vp-icon" icon="majesticons:book-plus" width="1em" height="1em" sizing="both"></iconify-icon><!--]-->å—å¼€æ–°ç”ŸæŒ‡å—<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/docx/links.html" aria-label="å¸¸ç”¨é“¾æ¥" iconsizing="both"><!--[--><iconify-icon class="vp-icon" icon="majesticons:book-plus" width="1em" height="1em" sizing="both"></iconify-icon><!--]-->å¸¸ç”¨é“¾æ¥<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/docx/used_files.html" aria-label="å—å¼€å¸¸ç”¨æ–‡ä»¶" iconsizing="both"><!--[--><iconify-icon class="vp-icon" icon="majesticons:file" width="1em" height="1em" sizing="both"></iconify-icon><!--]-->å—å¼€å¸¸ç”¨æ–‡ä»¶<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/docx/map.html" aria-label="åœ°å›¾" iconsizing="both"><!--[--><iconify-icon class="vp-icon" icon="majesticons:book-plus" width="1em" height="1em" sizing="both"></iconify-icon><!--]-->åœ°å›¾<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/docx/nkuwiki_build.html" aria-label="nku-wikiå»ºè®¾" iconsizing="both"><!--[--><iconify-icon class="vp-icon" icon="majesticons:book-plus" width="1em" height="1em" sizing="both"></iconify-icon><!--]-->nku-wikiå»ºè®¾<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-header clickable active"><iconify-icon class="vp-icon" icon="fa6-solid:book" width="1em" height="1em" sizing="both"></iconify-icon><a class="route-link route-link-active auto-link vp-sidebar-title no-external-link-icon" href="/docs/" aria-label="å¼€å‘æ–‡æ¡£" iconsizing="both"><!---->å¼€å‘æ–‡æ¡£<!----></a><!----></p><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/docs/" aria-label="å—å¼€Wiki RAGæ¥å£æ–‡æ¡£" iconsizing="both"><!---->å—å¼€Wiki RAGæ¥å£æ–‡æ¡£<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/docs/nkuwiki_dev.html" aria-label="ğŸ“šnkuwikiå¼€å‘æ–‡æ¡£" iconsizing="both"><!---->ğŸ“šnkuwikiå¼€å‘æ–‡æ¡£<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/docs/api_docs.html" aria-label="å—å¼€Wiki APIæ–‡æ¡£" iconsizing="both"><!---->å—å¼€Wiki APIæ–‡æ¡£<!----></a></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">Coze&amp;hiagent</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/docs/coze_hiagent/QA.html" aria-label="/docs/coze_hiagent/QA.html" iconsizing="both"><!---->/docs/coze_hiagent/QA.html<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/docs/coze_hiagent/HiagentAPI.html" aria-label="Coze æ™ºèƒ½ä½“åç«¯ API æ–‡æ¡£" iconsizing="both"><!---->Coze æ™ºèƒ½ä½“åç«¯ API æ–‡æ¡£<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/docs/coze_hiagent/cozeAPI.html" aria-label="cozeAPIä»‹ç»" iconsizing="both"><!---->cozeAPIä»‹ç»<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/docs/coze_hiagent/mysql_api.html" aria-label="MySQL API æ¥å£æ–‡æ¡£" iconsizing="both"><!---->MySQL API æ¥å£æ–‡æ¡£<!----></a></li></ul></section></li><li><a class="route-link auto-link vp-sidebar-link" href="/docs/installation_guide.html" aria-label="nkuwiki å®‰è£…æŒ‡å—" iconsizing="both"><!---->nkuwiki å®‰è£…æŒ‡å—<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/docs/deployment_guide.html" aria-label="nkuwiki éƒ¨ç½²æŒ‡å—" iconsizing="both"><!---->nkuwiki éƒ¨ç½²æŒ‡å—<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/docs/configuration_guide.html" aria-label="nkuwiki é…ç½®æŒ‡å—" iconsizing="both"><!---->nkuwiki é…ç½®æŒ‡å—<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/docs/qa_service_guide.html" aria-label="nkuwiki é—®ç­”æœåŠ¡ä½¿ç”¨æŒ‡å—" iconsizing="both"><!---->nkuwiki é—®ç­”æœåŠ¡ä½¿ç”¨æŒ‡å—<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/docs/redis_guide.html" aria-label="Redisé…ç½®ä¸ä½¿ç”¨æŒ‡å—" iconsizing="both"><!---->Redisé…ç½®ä¸ä½¿ç”¨æŒ‡å—<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-header"><iconify-icon class="vp-icon" icon="fa6-solid:book" width="1em" height="1em" sizing="both"></iconify-icon><span class="vp-sidebar-title">è”ç³»æˆ‘ä»¬</span><!----></p><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/communicate/" aria-label="è”ç³»" iconsizing="both"><!--[--><iconify-icon class="vp-icon" icon="majesticons:file" width="1em" height="1em" sizing="both"></iconify-icon><!--]-->è”ç³»<!----></a></li></ul></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->cozeAPIä»‹ç»</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="page-author-item">aokimi</span></span><span property="author" content="aokimi"></span></span><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">2025å¹´3æœˆ27æ—¥</span><meta property="datePublished" content="2025-03-27T00:38:50.000Z"></span><!----><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 9 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT9M"></span><!----><!----></div><hr></div><!----><!----><div class="theme-hope-content" vp-content><p>éšç€å­—èŠ‚åœ¨å¤§æ¨¡å‹å†›å¤‡ç«èµ›ä¸­ä¸€éª‘ç»å°˜ï¼Œè¶Šæ¥è¶Šå¤šçš„å°ä¼™ä¼´å¼€å§‹æ³¨æ„åˆ°æ‰£å­ï¼ˆCOZEï¼‰è¿™ä¸ªå¼ºå¤§çš„æ™ºèƒ½ä½“å·¥ä½œæµæ­å»ºå¹³å°ã€‚ç„¶è€Œï¼Œä¸å¾—ä¸è¯´ï¼Œæ‰£å­çš„å®˜æ–¹æ•™ç¨‹å®åœ¨æ˜¯å‡ºäº†åçš„è‰ç‡ï¼Œæ—¢æ²¡æœ‰ç¤ºä¾‹ä»£ç ï¼Œæ’ç‰ˆå¸ƒå±€ä¹Ÿååˆ†æ··ä¹±ï¼Œæ‰£å­åŸºç¡€ç‰ˆã€æ‰£å­ä¸“ä¸šç‰ˆã€è±†åŒ…å¤§æ¨¡å‹ã€ç«å±±å¼•æ“ã€ç«å±±æ–¹èˆŸè®©äººå‚»å‚»åˆ†ä¸æ¸…æ¥šï¼Œæ··ä¹±ç¨‹åº¦ç®€ç›´ä»¤äººå’‹èˆŒã€‚</p><p>æœ¬æ–‡å°†æä¾›å®˜æ–¹æ–‡æ¡£æ²¡æœ‰æä¾›çš„è°ƒç”¨ COZE BOT API çš„ Python ä»£ç ï¼Œå…³äºè±†åŒ…å¤§æ¨¡å‹çš„è°ƒç”¨å°†åœ¨å¦ä¸€ç¯‡ä¸­è¯¦è¿°ã€‚</p><p>ä¸€ã€åŸºç¡€çŸ¥è¯†<br> é¦–å…ˆï¼Œæ‰£å­åˆ†ä¸ºå›½å†…ç‰ˆå’Œæµ·å¤–ç‰ˆï¼Œå¯ä»¥è°ƒç”¨åŸºç¡€æ¨¡å‹ä¸ä¸€æ ·ï¼Œæ¯”å¦‚æµ·å¤–ç‰ˆå¯ä»¥è°ƒç”¨Chat-GPTï¼Œä½†å›½å†…ç‰ˆä¸è¡Œã€‚ä¸è¿‡ï¼Œæµ·å¤–ç‰ˆéœ€è¦ç”¨åˆ°æ¢¯å­ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜æ˜¯å…ˆä»¥å›½å†…ç‰ˆä¸ºä¾‹ï¼Œå›½å†…ç‰ˆçš„å®˜ç½‘æ˜¯è¿™ä¸ªï¼š</p><p>æ‰£å­-AI æ™ºèƒ½ä½“å¼€å‘å¹³å°<br><a href="http://xn--www-4m0a.coze.cn/" target="_blank" rel="noopener noreferrer">â€‹www.coze.cn/</a><br> å›½å†…ç‰ˆåˆåˆ†ä¸ºåŸºç¡€ç‰ˆå’Œä¸“ä¸šç‰ˆï¼ˆå›½å¤–ç‰ˆå¥½åƒæ˜¯ä¸åˆ†çš„ï¼‰ï¼Œä¸“ä¸šç‰ˆå’ŒåŸºç¡€ç‰ˆç™»å½•çš„å…¥å£æ˜¯ä¸åŒçš„ï¼Œè€Œä¸”ä½ åŒä¸€ä¸ªè´¦å·ä¸‹çš„ä¸“ä¸šç‰ˆå’ŒåŸºç¡€ç‰ˆæ˜¯ä¸äº’é€šçš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä½ åœ¨åŸºç¡€ç‰ˆé‡Œåˆ›å»ºçš„æ™ºèƒ½ä½“ï¼Œä¸ä¼šè‡ªåŠ¨å‡ºç°åœ¨ä¸“ä¸šç‰ˆçš„è´¦å·é‡Œï¼Œè™½ç„¶å¯ä»¥è¿›è¡Œè¿ç§»ï¼Œä½†åªèƒ½è¿ç§»ä¸€æ¬¡ï¼Œè¿™ç‚¹æ˜¯æœ€ç¥å¥‡çš„ã€‚</p><p>ä¸“ä¸šç‰ˆå’ŒåŸºç¡€ç‰ˆåœ¨APIè°ƒç”¨é™åˆ¶ä¸Šçš„åŒºåˆ«å¦‚ä¸‹ï¼š</p><p>åŸºç¡€ç‰ˆ ä¸“ä¸šç‰ˆ<br> COZEå›½å†…ç‰ˆAPI 2024å¹´8æœˆ15æ—¥ä¹‹åï¼Œæ‰£å­ API çš„å…è´¹é¢åº¦ä¸ºæ¯ä¸ªè´¦å· 100 æ¬¡ API è°ƒç”¨ã€‚ä¸€æ—¦ç´¯è®¡è°ƒç”¨æ¬¡æ•°è¶…è¿‡å…è´¹é¢åº¦ï¼Œæ­¤è´¦å·å°†æ— æ³•ç»§ç»­ä½¿ç”¨ä»»ä½•æ‰£å­ APIã€‚<br> API å…è´¹é¢åº¦ä¸é€‚ç”¨äºé€šè¿‡æ‰£å­å¹³å°ã€å…¶ä»–å‘å¸ƒæ¸ é“æˆ– SDK äº§ç”Ÿçš„è¯·æ±‚ã€‚ ä¸é™åˆ¶ API è°ƒç”¨æ¬¡æ•°ã€‚<br> è°ƒç”¨å‘èµ·å¯¹è¯ã€æ‰§è¡Œå·¥ä½œæµæˆ–æ‰§è¡Œå·¥ä½œæµï¼ˆæµå¼å“åº”ï¼‰APIï¼Œæ ¹æ® Bot è°ƒç”¨æ¬¡æ•°å’Œæ–¹èˆŸæ¨¡å‹ Token æ¶ˆè€—æ”¶å–è´¹ç”¨ï¼›è°ƒç”¨æ¢å¤è¿è¡Œå·¥ä½œæµï¼Œä»…æ ¹æ®æ–¹èˆŸæ¨¡å‹ Token æ¶ˆè€—æ”¶å–è´¹ç”¨ï¼›è°ƒç”¨å…¶ä»–æ¥å£å…è´¹ã€‚<br> æ€»ç»“èµ·æ¥å°±æ˜¯ï¼Œå…è´¹ç‰ˆæœ‰è°ƒç”¨æ¬¡æ•°é™åˆ¶ï¼Œä¸”æ€»å…±åªæœ‰100æ¬¡ã€‚æ‰€ä»¥å¦‚æœ100æ¬¡ä¸å¤Ÿç”¨çš„å°ä¼™ä¼´ï¼Œå°±åªèƒ½é€‰æ‹©ä¸“ä¸šç‰ˆäº†ã€‚</p><p>å€¼å¾—ä¸€æçš„æ˜¯ï¼Œä¸“ä¸šç‰ˆæ¯æ¬¡è°ƒç”¨çš„æ”¶è´¹åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š</p><p>botè°ƒç”¨æ¬¡æ•°ï¼Œå°±æ˜¯è°ƒç”¨ä¸€æ¬¡æ™ºèƒ½ä½“æ”¶ä¸€æ¬¡è´¹ï¼›<br> æ™ºèƒ½ä½“æ¶ˆè€—çš„tokenæ•°ï¼Œå°±æ˜¯çœ‹ä½ æ™ºèƒ½ä½“é‡Œç”¨åˆ°çš„å¤§è¯­è¨€æ¨¡å‹æ¶ˆè€—çš„tokenï¼Œè¿™ä¸€ç‚¹å’Œå•ç‹¬è°ƒç”¨è±†åŒ…ä¸€æ ·ï¼›<br> ä¸è¿‡ï¼Œè™½ç„¶æ˜¯ä¸¤é“æ”¶è´¹ï¼Œä½†å…¶å®ä¹Ÿä¸è´µã€‚é¦–å…ˆï¼Œå­—èŠ‚çš„å¤§æ¨¡å‹tokenæ”¶è´¹å¯ä»¥è¯´æ˜¯å›½å†…æ‰€æœ‰å¤§æ¨¡å‹é‡Œçš„åœ°æ¿ä»·äº†ï¼Œæ¯”é‚£äº›å°å‚çš„ç”šè‡³å¯ä»¥ä½2ä¸ªæ•°é‡çº§ï¼›å…¶æ¬¡ï¼Œæ™ºèƒ½ä½“è°ƒç”¨æ”¶è´¹å¥½åƒæ˜¯è°ƒç”¨ä¸€æ¬¡æ‰£2ç‚¹ï¼Œä½†ç°åœ¨æœ‰ä¼˜æƒ ï¼Œ50ä¸‡ç‚¹1å—é’±ï¼Œæ‰€ä»¥è¿™ä¸ªè´¹ç”¨ä¹Ÿå°±å¿½ç•¥ä¸è®¡äº†ã€‚</p><p>äºŒã€åˆ›å»ºæ™ºèƒ½ä½“<br> æœ¬ç¯‡æ–‡ç« ä¸»è¦æ˜¯è®²å¦‚ä½•é€šè¿‡APIæ¥è°ƒç”¨ä½ å·²ç»åˆ›å»ºå¥½çš„æ™ºèƒ½ä½“ï¼Œæ‰€ä»¥åˆ›å»ºæ™ºèƒ½ä½“çš„éƒ¨åˆ†å°±ä¸å†èµ˜è¿°å•¦ï¼Œç½‘ä¸Šæ•™ç¨‹ä¹Ÿè¶Šæ¥è¶Šå¤šï¼ŒCOZEåœ¨Bç«™ä¹Ÿæœ‰å®˜æ–¹æ•™ç¨‹ï¼Œå¯ä»¥å‚è€ƒä¸€ä¸‹ï¼š</p><p>æ‰£å­Cozeä¸ªäººä¸»é¡µ<br><a href="http://xn--space-kt3b.bilibili.com/1444391473" target="_blank" rel="noopener noreferrer">â€‹space.bilibili.com/1444391473</a><br> æ³¨æ„ï¼Œè®°å¾—åœ¨ä¸“ä¸šç‰ˆé‡Œåˆ›å»ºï¼Œå› ä¸ºåŸºç¡€ç‰ˆé‡Œåˆ›å»ºçš„è¯ä½ åªæœ‰100æ¬¡çš„APIè°ƒç”¨æœºä¼šã€‚</p><p>ä¸“ä¸šç‰ˆé‡Œçš„æ™ºèƒ½ä½“è°ƒç”¨å¤§è¯­è¨€æ¨¡å‹éœ€è¦ä½ åˆ›å»ºæ¥å…¥ç‚¹ï¼Œè¿™ä¸ªæˆ‘ä¼šå¦å¤–å‡ºä¸€ä¸ªæ•™ç¨‹ã€‚</p><p>ä¸‰ã€è°ƒç”¨çš„å‰ç½®å‡†å¤‡<br> åœ¨è°ƒç”¨COZEçš„APIä¹‹å‰ï¼Œç¡®ä¿ä½ å®Œæˆäº†ä»¥ä¸‹ä¸¤ä»¶äº‹ï¼š</p><p>å‘å¸ƒ Bot ä¸º API æœåŠ¡ï¼Œå‘å¸ƒ Bot æ—¶ä¸€å®šè¦å‹¾é€‰â€œBot as APIâ€ï¼›<br> è·å–è®¿é—®ä»¤ç‰Œï¼Œè¿™ä¸ªåœ¨è°ƒç”¨APIæ—¶éœ€è¦ç”¨åˆ°ï¼›<br> å…·ä½“å¯ä»¥å‚è€ƒè¿™ä¸ªå®˜æ–¹æ–‡æ¡£ï¼š</p><p>æ‰£å­ - å¼€å‘æŒ‡å— - å‡†å¤‡å·¥ä½œ<br><a href="http://xn--www-4m0a.coze.cn/docs/developer_guides/preparation" target="_blank" rel="noopener noreferrer">â€‹www.coze.cn/docs/developer_guides/preparation</a><br> å››ã€ç”¨Pythonè°ƒç”¨Bot API<br> å¥½ï¼Œé‡å¤´æˆæ¥äº†ã€‚</p><p>è™½ç„¶æ‰£å­çš„å®˜æ–¹æ–‡æ¡£å†™çš„ä¸å’‹åœ°ï¼Œä½†æˆ‘è¿˜æ˜¯ç¤¼è²Œæ€§åœ°æä¾›ä¸€ä¸‹ï¼Œæ¯•ç«Ÿå…ˆçœ‹å®˜æ–¹æ–‡æ¡£æ˜¯ä¸€ä¸ªå¥½ä¹ æƒ¯ï¼š</p><p>æ‰£å­ - å¼€å‘æŒ‡å—<br><a href="http://xn--www-4m0a.coze.cn/docs/developer_guides/coze_api_overview" target="_blank" rel="noopener noreferrer">â€‹www.coze.cn/docs/developer_guides/coze_api_overview</a><br> ï¼ˆä¸€ï¼‰å¯¼å…¥å¿…è¦çš„åº“<br> import re<br> import requests<br> import json<br> import time<br> import sys<br> è¿™å‡ ä¸ªæ˜¯åŸºç¡€çš„ï¼Œå½“ç„¶å¯èƒ½è¿˜æœ‰å…¶ä»–çš„ï¼Œæ ¹æ®ä½ çš„éœ€æ±‚æ¥ã€‚</p><p>ï¼ˆäºŒï¼‰å‡†å¤‡IDä¿¡æ¯<br> bot_id = &quot;ä½ çš„BOT-ID&quot;<br> access_token = &#39;Bearer pat_ä½ çš„è®¿é—®ä»¤ç‰Œ&#39;<br> user_id = &quot;ä½ çš„USER-ID&quot;<br> å¦‚ä½•è·å–bot_idå’Œuser_idï¼šæ‰“å¼€ä½ çš„æ™ºèƒ½ä½“ç¼–è¾‘ç•Œé¢ï¼Œç½‘å€çš„ç»“æ„åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š</p><p><a href="https://www.coze.cn/space/%22%E4%BD%A0%E7%9A%84USER-ID%22/bot/%22%E4%BD%A0%E7%9A%84BOT-ID%22" target="_blank" rel="noopener noreferrer">https://www.coze.cn/space/&quot;ä½ çš„USER-ID&quot;/bot/&quot;ä½ çš„BOT-ID&quot;</a><br> å¦‚ä½•è·å–access_tokenï¼šè¯·å‚è€ƒä¸Šè¿°â€œä¸‰ã€è°ƒç”¨çš„å‰ç½®å‡†å¤‡â€ï¼Œè¯·æ³¨æ„ï¼Œä»¤ç‰Œä»…åœ¨ç”Ÿæˆæ—¶å±•ç¤ºä¸€æ¬¡ï¼Œè¯·å³åˆ»å¤åˆ¶å¹¶ä¿å­˜ã€‚å¦å¤–ï¼Œè®¾ç½®access_token æ—¶ä¸è¦å¿˜è®°åŠ ä¸Šâ€œBearer pat_â€çš„å‰ç¼€ã€‚</p><p>ï¼ˆä¸‰ï¼‰æ„å»ºè¯·æ±‚<br> api_url = &#39;<a href="https://api.coze.cn/v3/chat" target="_blank" rel="noopener noreferrer">https://api.coze.cn/v3/chat</a>&#39;<br> headers = {<br> &#39;Authorization&#39;: access_token,<br> &#39;Content-Type&#39;: &#39;application/json&#39;<br> }<br> body = {<br> &quot;bot_id&quot;: bot_id,<br> &quot;user_id&quot;: user_id,<br> &quot;stream&quot;: True,<br> &quot;auto_save_history&quot;: not(True),<br> &quot;additional_messages&quot;: messages<br> }<br> response = requests.post(api_url, headers=headers, json=body)<br> #print(response)<br> è¿™é‡Œè¦æ³¨æ„ï¼Œstreamä¸ºTrueæ—¶ï¼Œauto_save_historyåªèƒ½ä¸ºFalseï¼›streamä¸ºFalseæ—¶ï¼Œauto_save_historyåªèƒ½ä¸ºTrueï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚</p><p>messageså°±æ˜¯å¸¸è§„æ ¼å¼ï¼Œæ¯”å¦‚ï¼š</p><p>messages = [<br> {&quot;role&quot;: &quot;system&quot;, &quot;content&quot;: &quot;ä½ æ˜¯æ™ºèƒ½åŠ©æ‰‹&quot;,},<br> {&quot;role&quot;: &quot;user&quot;, &quot;content&quot;: &quot;è¯·å›ç­”æˆ‘çš„é—®é¢˜&quot;,},<br> ]<br> ï¼ˆå››ï¼‰æµå¼è¾“å‡º<br> è¿™é‡Œè®²æµå¼è¾“å‡ºï¼Œæˆ‘ä»¬å…ˆæ¥äº†è§£ä¸€ä¸‹æµå¼è¾“å‡ºçš„ç»“æ„ï¼š</p><p>æ‰£å­ - å¼€å‘æŒ‡å— - æµå¼è¾“å‡ºç»“æ„<br><a href="http://xn--www-4m0a.coze.cn/docs/developer_guides/get_chat_response" target="_blank" rel="noopener noreferrer">â€‹www.coze.cn/docs/developer_guides/get_chat_response</a><br> æµå¼è¾“å‡ºçš„æœ‰æ•ˆå­—æ®µæ˜¯åœ¨ event =&#39;conversation.message.delta&#39; çš„å‰æä¸‹ï¼Œdata è¿”å›å€¼ä¸­çš„&quot;content&quot;ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p><p>for line in response.iter_lines():<br> decoded_line = line.decode(&#39;utf-8&#39;,errors=&#39;ignore&#39;) #è§£ç <br> #print(decoded_line)<br> if decoded_line.startswith(&quot;event:&quot;): #æ ‡è®°event<br> event = decoded_line[6:]<br> #print(event)<br> if decoded_line.startswith(&quot;data:&quot;):<br> event_data = json.loads(decoded_line[5:])<br> #print(event_data)<br> if event == &#39;conversation.message.delta&#39;: #æµå¼è¾“å‡ºæ ‡è®°<br> sys.stdout.write(event_data[&quot;content&quot;])<br> time.sleep(0.1)<br> æµå¼è¾“å‡ºæœ‰ä¸ªå‰æï¼Œå°±æ˜¯ä½ çš„æ™ºèƒ½ä½“æœ€åä¸€æ­¥æ˜¯å¤§è¯­è¨€æ¨¡å‹çš„è¾“å‡ºï¼Œæˆ–è€…ä½ çš„æ™ºèƒ½ä½“æœ‰æ¶ˆæ¯æ¨¡å—æ¥å±•ç¤ºå¤§è¯­è¨€æ¨¡å‹çš„æµå¼è¾“å‡ºç»“æœã€‚å‡å¦‚ä½ çš„æ™ºèƒ½ä½“æœ¬èº«å°±æ— æ³•å°†ç»“æœæµå¼è¾“å‡ºï¼Œé‚£ä¹ˆé€šè¿‡APIä¹Ÿæ˜¯æ— æ³•åŠåˆ°çš„ã€‚å…·ä½“çš„ä½ å¯ä»¥åœ¨è‡ªå·±çš„æ™ºèƒ½ä½“ç¼–è¾‘é¡µé¢å°è¯•ä¸€ä¸‹ï¼Œçœ‹çœ‹æ˜¯ä¸æ˜¯èƒ½å¤Ÿæµå¼è¾“å‡ºã€‚</p><p>ï¼ˆäº”ï¼‰éæµå¼è¾“å‡º<br> éæµå¼è¾“å‡ºåè€Œæ›´å¤æ‚ä¸€äº›ã€‚</p><p>ä½ è¦è®¾ç½® stream = falseï¼Œauto_save_history=trueï¼Œè¡¨ç¤ºä½¿ç”¨éæµå¼å“åº”ï¼Œå¹¶è®°å½•å†å²æ¶ˆæ¯ã€‚<br> ä½ éœ€è¦è®°å½•ä¼šè¯çš„ Conversation ID å’Œ Chat IDï¼Œç”¨äºåç»­æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ã€‚<br> å®šæœŸè½®è¯¢æŸ¥çœ‹å¯¹è¯è¯¦æƒ…æ¥å£ï¼Œå»ºè®®æ¯æ¬¡é—´éš” 1 ç§’ä»¥ä¸Šï¼Œç›´åˆ°ä¼šè¯çŠ¶æ€æµè½¬ä¸ºç»ˆæ€ï¼Œå³ status ä¸º completed æˆ– required_actionã€‚<br> è°ƒç”¨æŸ¥çœ‹å¯¹è¯æ¶ˆæ¯è¯¦æƒ…æ¥å£ï¼ŒæŸ¥è¯¢æ¨¡å‹ç”Ÿæˆçš„æœ€ç»ˆç»“æœã€‚<br> å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p><p>response = response.json()<br> #print(response)</p><p>conversation_id = response[&#39;data&#39;].get(&#39;conversation_id&#39;)<br> chat_id = response[&#39;data&#39;].get(&#39;id&#39;)<br> print(f&#39;Chat_ID:{conversation_id};\nConversation_ID:{conversation_id}&#39;)</p><p>retrieve_url = f&#39;<a href="https://api.coze.cn/v3/chat/retrieve?conversation_id=%7Bconversation_id%7D&amp;chat_id=%7Bchat_id%7D" target="_blank" rel="noopener noreferrer">https://api.coze.cn/v3/chat/retrieve?conversation_id={conversation_id}&amp;chat_id={chat_id}</a>&#39;<br> while requests.get(retrieve_url, headers=headers).json()[&#39;data&#39;][&#39;status&#39;] != &quot;completed&quot;:<br> time.sleep(0.5)<br> print(&quot;coze bot wait ......&quot;)</p><p>message_url = f&#39;<a href="https://api.coze.cn/v3/chat/message/list?chat_id=%7Bchat_id%7D&amp;conversation_id=%7Bconversation_id%7D" target="_blank" rel="noopener noreferrer">https://api.coze.cn/v3/chat/message/list?chat_id={chat_id}&amp;conversation_id={conversation_id}</a>&#39;<br> message_response = requests.get(message_url, headers=headers).json()<br> event_data_answer = message_response[&#39;data&#39;][1]<br> output = event_data_answer[&quot;content&quot;]<br> print(output)<br> è‡³æ­¤ï¼ŒCOZEä¸“ä¸šç‰ˆAPIè°ƒç”¨çš„æ ¸å¿ƒéƒ¨åˆ†å°±è®²å®Œå•¦ï¼Œå¸Œæœ›å¯¹å¤§å®¶æœ‰å¸®åŠ©ã€‚</p><p>ï¼ˆå…­ï¼‰çŸ¥è¯†åº“å¬å›ç»“æœ<br> å¦‚æœä½ çš„æ™ºèƒ½ä½“é‡Œé¢æœ‰ç”¨åˆ°çŸ¥è¯†åº“ï¼Œé‚£ä¹ˆ Coze Bot çš„è¿”å›ç»“æœé‡Œæ˜¯æœ‰çŸ¥è¯†åº“çš„RAGå¬å›ç»“æœçš„ï¼Œç”šè‡³è¿˜æœ‰å¬å›å†…å®¹æ‰€åœ¨çŸ¥è¯†åº“çš„é¡µé¢linkï¼Œå¦‚æœä½ éœ€è¦çš„è¯ï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹å¼è°ƒç”¨ï¼š</p><p>çŸ¥è¯†åº“çš„å¬å›å†…å®¹æ˜¯åœ¨ event = &#39;conversation.message.completed&#39; æ—¶ï¼ˆæµå¼è¾“å‡ºï¼‰ä¸” event_data[&#39;type&#39;] = &#39;verbose&#39; æ—¶ï¼Œevent_data_content[&quot;msg_type&quot;] = &quot;knowledge_recall&quot; ä¸‹çš„å†…å®¹ï¼Œå…·ä½“åœ°ï¼Œæˆ‘ä»¬å¯ä»¥å†™å‡ºå¦‚ä¸‹å‡½æ•°æ¥è§£æå“åº”çš„å†…å®¹ï¼š</p><p>def get_coze_rag(event_data):</p><pre><code>result = list()

if event_data[&#39;type&#39;]==&#39;verbose&#39;:
    
    event_data_content = json.loads(event_data[&quot;content&quot;])
    #print(json.dumps(event_data_content, indent=4,ensure_ascii=False))

    if event_data_content[&quot;msg_type&quot;]==&quot;knowledge_recall&quot;:
        event_data_content_data = json.loads(event_data_content[&quot;data&quot;])
        #print(json.dumps(event_data_content_data, indent=4,ensure_ascii=False))
        
        event_chunks = event_data_content_data[&#39;chunks&#39;]
        for event_chunk in event_chunks:
            knowledge_slice = event_chunk[&#39;slice&#39;]
            result.append(knowledge_slice)
            knowledge_url = event_chunk[&#39;meta&#39;][&#39;link&#39;][&#39;url&#39;].replace(&#39;u0026&#39;, &#39;&amp;&#39;)
            result.append(knowledge_url)
            
return result
</code></pre><p>è¿™ä¸ªå‡½æ•°çš„è¾“å…¥æ˜¯å“åº”æµevent_dataï¼Œè¾“å‡ºçš„resultä¸ºç”±å¬å›ç‰‡æ®µå’Œå¬å›ç‰‡æ®µæ‰€åœ¨çš„çŸ¥è¯†åº“é¡µé¢linkç»„æˆçš„listã€‚</p><p>ç”±æ­¤ï¼Œå¯¹äºæµå¼è¾“å‡ºï¼Œæˆ‘ä»¬çš„æ”¹å†™å¦‚ä¸‹ï¼š</p><p>knowledge_results = []</p><p>for line in response.iter_lines():<br> decoded_line = line.decode(&#39;utf-8&#39;,errors=&#39;ignore&#39;) #è§£ç <br> #print(decoded_line)<br> if decoded_line.startswith(&quot;event:&quot;): #æ ‡è®°event<br> event = decoded_line[6:]<br> #print(event)<br> if decoded_line.startswith(&quot;data:&quot;):<br> event_data = json.loads(decoded_line[5:])<br> #print(event_data)<br> if event == &#39;conversation.message.delta&#39;: #æµå¼è¾“å‡ºæ ‡è®°<br> sys.stdout.write(event_data[&quot;content&quot;])<br> time.sleep(0.1)<br> if event == &#39;conversation.message.completed&#39;: #çŸ¥è¯†åº“ã€æœ€ç»ˆå®Œæ•´è¾“å‡ºæ ‡è®°<br> knowledge_results = knowledge_results + get_coze_rag(event_data)</p><p>print(f&quot;\n\nçŸ¥è¯†åº“å¬å›ç‰‡æ®µï¼š{knowledge_results}&quot;)<br> å¯¹äºéæµå¼è¾“å‡ºï¼Œæˆ‘ä»¬çš„æ”¹å†™å¦‚ä¸‹ï¼š</p><p>response = response.json()<br> #print(response)</p><p>conversation_id = response[&#39;data&#39;].get(&#39;conversation_id&#39;)<br> chat_id = response[&#39;data&#39;].get(&#39;id&#39;)<br> print(f&#39;Chat_ID:{conversation_id};\nConversation_ID:{conversation_id}&#39;)</p><p>retrieve_url = f&#39;<a href="https://api.coze.cn/v3/chat/retrieve?conversation_id=%7Bconversation_id%7D&amp;chat_id=%7Bchat_id%7D" target="_blank" rel="noopener noreferrer">https://api.coze.cn/v3/chat/retrieve?conversation_id={conversation_id}&amp;chat_id={chat_id}</a>&#39;<br> while requests.get(retrieve_url, headers=headers).json()[&#39;data&#39;][&#39;status&#39;] != &quot;completed&quot;:<br> time.sleep(0.5)<br> print(&quot;coze bot wait ......&quot;)</p><p>message_url = f&#39;<a href="https://api.coze.cn/v3/chat/message/list?chat_id=%7Bchat_id%7D&amp;conversation_id=%7Bconversation_id%7D" target="_blank" rel="noopener noreferrer">https://api.coze.cn/v3/chat/message/list?chat_id={chat_id}&amp;conversation_id={conversation_id}</a>&#39;<br> message_response = requests.get(message_url, headers=headers).json()</p><p>event_data_knowledge = message_response[&#39;data&#39;][0]<br> knowledge_results = get_coze_rag(event_data_knowledge)</p><p>event_data_answer = message_response[&#39;data&#39;][1]<br> output = event_data_answer[&quot;content&quot;]</p><p>print(output)<br> print(f&quot;\nçŸ¥è¯†åº“å¬å›ç‰‡æ®µï¼š{knowledge_results}&quot;)<br> ä¸Šé¢æ‰€æœ‰ä»£ç å‡å®æµ‹å¯ç”¨æ— æŠ¥é”™ï¼Œä½†ä¹Ÿå‡é¢„ç•™äº†printè°ƒè¯•æ¥å£ï¼Œä»¥ä¾›é‡åˆ°bugæ—¶è°ƒè¯•ã€‚å½“ç„¶ï¼ŒæŠ¥é”™æ—¶æ±‚åŠ©å¤§æ¨¡å‹ä¹Ÿæ˜¯ä¸€ä¸ªå¥½ä¸»æ„ï¼ˆæ¨èDeepSeekï¼‰ã€‚</p><p>ç¼–è¾‘äº 2024-10-15 20:51ãƒ»IP å±åœ°ä¸Šæµ·<br> Python<br> API<br> cozeä¸“ä¸šç‰ˆ<br> â€‹èµåŒ 1â€‹<br> â€‹2 æ¡è¯„è®º<br> â€‹åˆ†äº«<br> â€‹å–œæ¬¢<br> â€‹æ”¶è—<br> â€‹ç”³è¯·è½¬è½½<br> â€‹</p><p>èµåŒ 1</p><p>â€‹<br> åˆ†äº«</p><p>ç†æ€§å‘è¨€ï¼Œå‹å–„äº’åŠ¨</p><p>2 æ¡è¯„è®º<br> é»˜è®¤<br> æœ€æ–°<br> ç™½ç¬‘çŒ«<br> ç™½ç¬‘çŒ«<br> å¯ä»¥å‡ºä¸ªå·¥ä½œæµAPIè°ƒç”¨å—è°¢è°¢[çˆ±]</p><p>02-21 Â· å¹¿ä¸œ<br> â€‹å›å¤<br> â€‹1<br> DefinitelyFly<br> DefinitelyFly<br> ä½œè€…<br> æˆ‘æ‰¾äº†ä¸€ä¸‹ COZEå¥½åƒä¸æ”¯æŒç›´æ¥è°ƒç”¨å·¥ä½œæµå“ˆ å¿…é¡»åŒ…è£…ä¸ºæ™ºèƒ½ä½“æˆ–è€…åº”ç”¨åæ‰èƒ½å‘å¸ƒAPI</p><p>03-10 Â· ä¸Šæµ·<br> â€‹å›å¤<br> â€‹å–œæ¬¢<br> æ¨èé˜…è¯»<br> åŸºäºcozeåˆ›å»ºè‡ªå·±çš„ç§äººçŸ¥è¯†åº“<br> corzæ˜¯å­—èŠ‚è·³åŠ¨å‘å¸ƒçš„â€œä¸€ç«™å¼AIå¼€å‘å¹³å°â€œï¼Œçœ‹å®˜æ–¹ä»‹ç»ä¸ºï¼š Coze is a next-generation AI Bot development platform. Regardless of your programming experience, Coze enables you to eâ€¦</p><p>Ryan<br> äººäººéƒ½å­¦å¾—ä¼šç”¨cozeå·¥ä½œæµæ­å»º|ä¿å§†çº§å·¥ä½œæµæ•™ç¨‹<br> ä¹‹å‰æˆ‘ä»¬å†™äº†ä¸€ç¯‡è¯¦ç»†ä»‹ç»å¦‚ä½•é€šè¿‡cozeæ­å»ºbotï¼ˆæœºå™¨äººï¼‰çš„è¯¦ç»†æ•™ç¨‹ã€‚ 100%å…è´¹ç”¨GPT4 Turboï¼Cozeï¼ˆæ‰£å­ï¼‰å¹³å°ä¿å§†çº§åˆ›å»ºbotï¼ˆæ™ºèƒ½ä½“ï¼‰æ•™ç¨‹è¿™ç¯‡é˜…è¯»é‡è¿˜ä¸é”™ï¼Œä»Šå¤©æˆ‘ä»¬æ¥ä»‹ç»ä¸€ä¸‹æ¯”è¾ƒéš¾çš„ â€¦</p><p>å°å´ç§‘æŠ€å±‹<br> åƒäº¿å‚æ•°ï¼Œç™¾ä¸‡åºåˆ— | XTuner è¶…é•¿ä¸Šä¸‹æ–‡è®­ç»ƒæ–¹æ¡ˆ<br> åƒäº¿å‚æ•°ï¼Œç™¾ä¸‡åºåˆ— | XTuner è¶…é•¿ä¸Šä¸‹æ–‡è®­ç»ƒæ–¹æ¡ˆ<br> OpenMMLab<br> cozeæ•™ç¨‹ | 04 å·¥ä½œæµä¹‹å¤§æ¨¡å‹èŠ‚ç‚¹<br> 1 å¤§æ¨¡å‹èŠ‚ç‚¹æ¦‚è¿°é¦–å…ˆçœ‹ä¸€ä¸‹å¤§æ¨¡å‹èŠ‚ç‚¹çš„é…ç½®ï¼š é…ç½®å¯ä»¥çœ‹åˆ°5ä¸ªéƒ¨åˆ†ï¼š 1.1 æ¨¡å‹è¿™æ¬¡ä»‹ç»çš„æ˜¯cozeå›½å†…ç‰ˆï¼Œå¦‚æœæ˜¯æµ·å¤–ç‰ˆçš„è¯æ¨¡å‹çš„é€‰æ‹©æ˜¯ä¸ä¸€æ ·çš„ã€‚æ ¹æ®è‡ªå·±çš„éœ€æ±‚ç‰¹åˆ«è¦æ³¨æ„ä¸€ä¸‹æ¨¡å‹çš„tokenâ€¦</p><p>è£å§èŠAI<br> å‘è¡¨äºAIæ™ºèƒ½ä½“</p><p>é€‰æ‹©è¯­è¨€</p></div><!----><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><span class="vp-meta-info" data-allow-mismatch="text">2025/4/1 15:14:53</span></div><div class="contributors"><span class="vp-meta-label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="vp-meta-info" title="email: z66666z@163.com">Because66666</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/docs/coze_hiagent/HiagentAPI.html" aria-label="Coze æ™ºèƒ½ä½“åç«¯ API æ–‡æ¡£" iconsizing="both"><div class="hint"><span class="arrow start"></span>ä¸Šä¸€é¡µ</div><div class="link"><!---->Coze æ™ºèƒ½ä½“åç«¯ API æ–‡æ¡£</div></a><a class="route-link auto-link next" href="/docs/coze_hiagent/mysql_api.html" aria-label="MySQL API æ¥å£æ–‡æ¡£" iconsizing="both"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow end"></span></div><div class="link">MySQL API æ¥å£æ–‡æ¡£<!----></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><div class="vp-footer">é»˜è®¤é¡µè„š</div><div class="vp-copyright">Copyright Â© 2025 aokimi </div></footer></div><!--]--><!--]--><!--[--><!----><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/assets/app-CBln_ck3.js" defer></script>
  </body>
</html>
