import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{e as a,h as n,o as e}from"./app-4l060Wgd.js";const l={};function t(h,i){return e(),a("div",null,i[0]||(i[0]=[n(`<h1 id="nkuwiki-问答服务使用指南" tabindex="-1"><a class="header-anchor" href="#nkuwiki-问答服务使用指南"><span>nkuwiki 问答服务使用指南</span></a></h1><h2 id="简介" tabindex="-1"><a class="header-anchor" href="#简介"><span>简介</span></a></h2><p>nkuwiki 问答服务是南开百科知识平台的智能问答系统，支持通过多种渠道访问，包括命令行终端、微信公众号等。本指南介绍如何配置和使用问答服务。</p><h2 id="启动问答服务" tabindex="-1"><a class="header-anchor" href="#启动问答服务"><span>启动问答服务</span></a></h2><p>问答服务可通过以下命令启动：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">python</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> app.py</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --qa</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>参数说明：</p><ul><li><code>--qa</code>: 启动问答服务</li></ul><h2 id="渠道配置" tabindex="-1"><a class="header-anchor" href="#渠道配置"><span>渠道配置</span></a></h2><p>问答服务支持多种交互渠道，可在配置文件中指定使用的渠道：</p><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;services&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    &quot;channel_type&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;terminal&quot;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // 可选值: terminal, wechatmp, website</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="支持的渠道" tabindex="-1"><a class="header-anchor" href="#支持的渠道"><span>支持的渠道</span></a></h3><ol><li><p><strong>终端渠道 (terminal)</strong></p><p>适用于开发测试和本地使用，通过命令行直接与智能体交互。</p></li><li><p><strong>微信公众号渠道 (wechatmp)</strong></p><p>通过微信公众号提供服务，需要配置相关的微信公众号参数：</p><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;services&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    &quot;wechatmp&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      &quot;appid&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;your_appid&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      &quot;appsecret&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;your_appsecret&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      &quot;token&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;your_token&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>网站渠道 (website)</strong></p><p>通过网站提供服务，需要配置相关的网站参数。</p></li></ol><h2 id="渠道实现" tabindex="-1"><a class="header-anchor" href="#渠道实现"><span>渠道实现</span></a></h2><p>问答服务使用工厂模式创建渠道实例：</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> services.channel_factory </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> create_channel</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">channel_type </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> config.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;services.channel_type&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;terminal&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">channel </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;"> create_channel</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(channel_type)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> channel:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    channel.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">startup</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>所有渠道都实现了统一的接口，包括：</p><ul><li><code>startup()</code>: 启动渠道服务</li><li><code>shutdown()</code>: 关闭渠道服务</li><li><code>send_message()</code>: 发送消息</li><li><code>receive_message()</code>: 接收消息</li></ul><h2 id="智能体配置" tabindex="-1"><a class="header-anchor" href="#智能体配置"><span>智能体配置</span></a></h2><p>问答服务使用智能体处理用户查询，可以在配置文件中指定智能体类型和参数：</p><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;core&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    &quot;agent&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      &quot;type&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;coze&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 智能体类型，可选值: coze, openai, hiagent</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      &quot;parameters&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        // 智能体特定参数</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="会话管理" tabindex="-1"><a class="header-anchor" href="#会话管理"><span>会话管理</span></a></h2><p>问答服务使用会话管理器处理用户会话：</p><ol><li>会话初始化</li><li>会话持久化</li><li>会话上下文管理</li><li>会话超时处理</li></ol><h2 id="使用示例" tabindex="-1"><a class="header-anchor" href="#使用示例"><span>使用示例</span></a></h2><h3 id="终端渠道" tabindex="-1"><a class="header-anchor" href="#终端渠道"><span>终端渠道</span></a></h3><p>启动问答服务后，可在终端中直接与系统交互：</p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>User: 南开大学的校训是什么？</span></span>
<span class="line"><span>nkuwiki: 南开大学的校训是&quot;允公允能，日新月异&quot;。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>User: 这句校训的含义是什么？</span></span>
<span class="line"><span>nkuwiki: &quot;允公允能，日新月异&quot;出自《礼记·大学》，意为既要有公德心，也要有能力；要日日更新，不断进步。</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="微信公众号渠道" tabindex="-1"><a class="header-anchor" href="#微信公众号渠道"><span>微信公众号渠道</span></a></h3><p>用户关注配置好的微信公众号后，可直接在公众号中发送消息与系统交互。支持：</p><ol><li>文本消息交互</li><li>语音消息识别与回复</li><li>图片处理</li><li>菜单导航</li></ol><h2 id="高级功能" tabindex="-1"><a class="header-anchor" href="#高级功能"><span>高级功能</span></a></h2><h3 id="插件系统" tabindex="-1"><a class="header-anchor" href="#插件系统"><span>插件系统</span></a></h3><p>问答服务支持插件扩展，可通过配置插件增强系统功能：</p><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;core&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    &quot;plugins&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      &quot;enabled&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;translate&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;voice&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="多模态交互" tabindex="-1"><a class="header-anchor" href="#多模态交互"><span>多模态交互</span></a></h3><p>除文本交互外，系统还支持：</p><ol><li>语音识别与合成</li><li>图片理解与生成</li><li>文档解析</li></ol><h2 id="故障排查" tabindex="-1"><a class="header-anchor" href="#故障排查"><span>故障排查</span></a></h2><p>如遇到问题，请：</p><ol><li>检查配置文件是否正确</li><li>查看日志文件获取详细错误信息</li><li>确认网络连接状态</li><li>验证智能体服务状态</li></ol><h2 id="问答服务指南" tabindex="-1"><a class="header-anchor" href="#问答服务指南"><span>问答服务指南</span></a></h2><p>详细的问答服务使用指南。</p>`,43)]))}const r=s(l,[["render",t],["__file","qa_service_guide.html.vue"]]),k=JSON.parse('{"path":"/docs/qa_service_guide.html","title":"nkuwiki 问答服务使用指南","lang":"zh-CN","frontmatter":{"description":"nkuwiki 问答服务使用指南 简介 nkuwiki 问答服务是南开百科知识平台的智能问答系统，支持通过多种渠道访问，包括命令行终端、微信公众号等。本指南介绍如何配置和使用问答服务。 启动问答服务 问答服务可通过以下命令启动： 参数说明： --qa: 启动问答服务 渠道配置 问答服务支持多种交互渠道，可在配置文件中指定使用的渠道： 支持的渠道 终端渠...","head":[["meta",{"property":"og:url","content":"https://vuepress-theme-hope-docs-demo.netlify.app/docs/qa_service_guide.html"}],["meta",{"property":"og:site_name","content":"南开WIKI"}],["meta",{"property":"og:title","content":"nkuwiki 问答服务使用指南"}],["meta",{"property":"og:description","content":"nkuwiki 问答服务使用指南 简介 nkuwiki 问答服务是南开百科知识平台的智能问答系统，支持通过多种渠道访问，包括命令行终端、微信公众号等。本指南介绍如何配置和使用问答服务。 启动问答服务 问答服务可通过以下命令启动： 参数说明： --qa: 启动问答服务 渠道配置 问答服务支持多种交互渠道，可在配置文件中指定使用的渠道： 支持的渠道 终端渠..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-03-27T00:38:50.000Z"}],["meta",{"property":"article:modified_time","content":"2025-03-27T00:38:50.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"nkuwiki 问答服务使用指南\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-03-27T00:38:50.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Because\\",\\"url\\":\\"https://github.com/Because66666\\"}]}"]]},"git":{"createdTime":1743035930000,"updatedTime":1743035930000,"contributors":[{"name":"Because66666","username":"Because66666","email":"z66666z@163.com","commits":1,"url":"https://github.com/Because66666"}]},"readingTime":{"minutes":2.51,"words":753},"filePathRelative":"docs/qa_service_guide.md","localizedDate":"2025年3月27日","autoDesc":true}');export{r as comp,k as data};
