import{_ as h}from"./plugin-vue_export-helper-DlAUqK2U.js";import{e as p,f as l,g as a,h as e,i as s,j as t,r,o as d}from"./app-vrrj1hru.js";const o={};function k(A,i){const n=r("RouteLink");return d(),p("div",null,[i[12]||(i[12]=l('<h1 id="南开wiki-rag接口文档" tabindex="-1"><a class="header-anchor" href="#南开wiki-rag接口文档"><span>南开Wiki RAG接口文档</span></a></h1><h2 id="文档导航" tabindex="-1"><a class="header-anchor" href="#文档导航"><span>文档导航</span></a></h2><p>南开Wiki检索增强生成(RAG)接口文档集合，用于开发者了解和使用RAG服务。</p><h3 id="核心文档" tabindex="-1"><a class="header-anchor" href="#核心文档"><span>核心文档</span></a></h3>',4)),a("ul",null,[a("li",null,[e(n,{to:"/docs/rag_api.html"},{default:t(()=>i[0]||(i[0]=[s("RAG API接口文档")])),_:1}),i[1]||(i[1]=s(" - 详细的API接口说明，包含参数、响应格式和示例"))]),a("li",null,[e(n,{to:"/docs/rag_usage_guide.html"},{default:t(()=>i[2]||(i[2]=[s("RAG接口使用指南")])),_:1}),i[3]||(i[3]=s(" - 开发者使用指南，包含最佳实践和示例代码"))]),a("li",null,[e(n,{to:"/docs/rag_test_report.html"},{default:t(()=>i[4]||(i[4]=[s("RAG接口测试报告")])),_:1}),i[5]||(i[5]=s(" - 测试结果和性能报告"))])]),i[13]||(i[13]=a("h2",{id:"快速开始",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#快速开始"},[a("span",null,"快速开始")])],-1)),a("p",null,[i[7]||(i[7]=s("对于希望快速集成RAG接口的开发者，建议先阅读")),e(n,{to:"/docs/rag_usage_guide.html"},{default:t(()=>i[6]||(i[6]=[s("RAG接口使用指南")])),_:1}),i[8]||(i[8]=s("，了解基本概念和使用方式。"))]),a("p",null,[i[10]||(i[10]=s("需要详细API参数和响应格式的开发者，可以参考")),e(n,{to:"/docs/rag_api.html"},{default:t(()=>i[9]||(i[9]=[s("RAG API接口文档")])),_:1}),i[11]||(i[11]=s("。"))]),i[14]||(i[14]=l(`<h2 id="测试环境" tabindex="-1"><a class="header-anchor" href="#测试环境"><span>测试环境</span></a></h2><p>我们提供了一个简化的测试环境：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>http://localhost:8888/rag</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>该测试环境实现了与正式环境相同的API接口，但使用了模拟数据，非常适合前端开发和接口集成测试。</p><h2 id="多实例动态负载均衡连接池" tabindex="-1"><a class="header-anchor" href="#多实例动态负载均衡连接池"><span>多实例动态负载均衡连接池</span></a></h2><p>nkuwiki现已支持多实例环境下的动态负载均衡连接池，特点如下：</p><ol><li><strong>实例自动协调</strong>：通过Redis实现多实例间连接池资源的协调分配</li><li><strong>基于负载因子动态分配</strong>：根据实例CPU使用率和连接使用情况动态分配连接池大小</li><li><strong>自适应调整</strong>：定期检测系统负载变化，自动调整连接池大小</li><li><strong>失败自动降级</strong>：在连接池达到极限时自动创建独立连接作为应急措施</li><li><strong>实时监控</strong>：提供实时监控API查看各实例连接池状态</li></ol><h3 id="连接池监控接口" tabindex="-1"><a class="header-anchor" href="#连接池监控接口"><span>连接池监控接口</span></a></h3><ul><li><code>GET /api/admin/system/db-pool</code> - 获取数据库连接池状态</li><li><code>POST /api/admin/system/db-pool/resize?size={size}</code> - 手动调整连接池大小</li></ul><h3 id="使用示例" tabindex="-1"><a class="header-anchor" href="#使用示例"><span>使用示例</span></a></h3><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 使用上下文管理器安全地获取和释放连接</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> etl.load.db_pool_manager </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> get_db_connection</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">def</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> execute_db_operation</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">():</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    with</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;"> get_db_connection</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">as</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> conn:</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        with</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> conn.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">cursor</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">as</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> cursor:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            cursor.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">execute</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;SELECT * FROM some_table&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">            return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> cursor.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">fetchall</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="配置要求" tabindex="-1"><a class="header-anchor" href="#配置要求"><span>配置要求</span></a></h3><p>使用多实例动态连接池需要以下配置：</p><ol><li>Redis服务器（用于实例间协调）</li><li>MySQL数据库服务器支持连接池</li><li>安装psutil和redis库（已添加到requirements.txt）</li></ol><p>配置项在config.json中：</p><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;redis&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    &quot;host&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;localhost&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    &quot;port&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">6379</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    &quot;db&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    &quot;password&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#0184BC;--shiki-dark:#D19A66;">null</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="贡献与反馈" tabindex="-1"><a class="header-anchor" href="#贡献与反馈"><span>贡献与反馈</span></a></h2><p>如发现文档错误或有改进建议，请通过以下方式反馈：</p><ol><li>提交Issue到项目仓库</li><li>发送邮件至维护团队</li><li>在小程序内提交反馈</li></ol><h2 id="版本历史" tabindex="-1"><a class="header-anchor" href="#版本历史"><span>版本历史</span></a></h2><p><strong>v1.0.0</strong> (2025-03-24)</p><ul><li>初始版本</li><li>支持基本RAG功能</li><li>提供三种输出格式：markdown、text、html</li></ul>`,22))])}const c=h(o,[["render",k],["__file","index.html.vue"]]),m=JSON.parse('{"path":"/docs/","title":"南开Wiki RAG接口文档","lang":"zh-CN","frontmatter":{"description":"南开Wiki RAG接口文档 文档导航 南开Wiki检索增强生成(RAG)接口文档集合，用于开发者了解和使用RAG服务。 核心文档 - 详细的API接口说明，包含参数、响应格式和示例 - 开发者使用指南，包含最佳实践和示例代码 - 测试结果和性能报告 快速开始 对于希望快速集成RAG接口的开发者，建议先阅读，了解基本概念和使用方式。 需要详细API参数...","head":[["meta",{"property":"og:url","content":"https://vuepress-theme-hope-docs-demo.netlify.app/docs/"}],["meta",{"property":"og:site_name","content":"南开WIKI"}],["meta",{"property":"og:title","content":"南开Wiki RAG接口文档"}],["meta",{"property":"og:description","content":"南开Wiki RAG接口文档 文档导航 南开Wiki检索增强生成(RAG)接口文档集合，用于开发者了解和使用RAG服务。 核心文档 - 详细的API接口说明，包含参数、响应格式和示例 - 开发者使用指南，包含最佳实践和示例代码 - 测试结果和性能报告 快速开始 对于希望快速集成RAG接口的开发者，建议先阅读，了解基本概念和使用方式。 需要详细API参数..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-03-27T00:38:50.000Z"}],["meta",{"property":"article:modified_time","content":"2025-03-27T00:38:50.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"南开Wiki RAG接口文档\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-03-27T00:38:50.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Because\\",\\"url\\":\\"https://github.com/Because66666\\"}]}"]]},"git":{"createdTime":1743035930000,"updatedTime":1743035930000,"contributors":[{"name":"Because66666","username":"Because66666","email":"z66666z@163.com","commits":1,"url":"https://github.com/Because66666"}]},"readingTime":{"minutes":2.19,"words":658},"filePathRelative":"docs/README.md","localizedDate":"2025年3月27日","autoDesc":true}');export{c as comp,m as data};
